---
layout: post
title: Static Code Analysis - Part 2
date: 
type: post
parent_id: '0'
published: false
password: ''
status: draft
categories: []
tags: []
meta:
  blogger_blog: toddmeinershagen.blogspot.com
  blogger_author: Todd Meinershagen
  blogger_afd108f81ae242501ffa65d49d9298e0_permalink: '3626720855270519703'
  _publicize_job_id: '11181716011'
author:
  login: tmeinershagen
  email: todd@meinershagen.net
  display_name: Todd Meinershagen
  first_name: ''
  last_name: ''
---
<p>In my last post, I showed how you could enable static code analysis for a visual studio project.  However, you can also set up static code analysis at a more global level if you are using Team Foundation Server for source code control.</p>
<p>Within a Team Project, you can set up a check-in policy that requires the code to pass static code analysis.  You can do this by simply right-clicking on the Team Project and selecting Source Control from the Team Project Settings.</p>
<p><a href="http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZNW0UXWI/AAAAAAAAAmI/XzARg-NQ7Q0/image%5B3%5D.png"><img height="232" alt="image" src="{{ site.baseurl }}/assets/image_thumb%5B1%5D.png" width="370" border="0" /></a></p>
<p>From the Source Control Settings dialog, click on the Check-In Policy tab. and click the Add... button.  (Note - I already have the Code Analysis policy set for my project in the image below.)</p>
<p><a href="http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZNy0T5bI/AAAAAAAAAmQ/Qrj9KtnOxkQ/image%5B7%5D.png"><img height="167" alt="image" src="{{ site.baseurl }}/assets/image_thumb%5B3%5D.png" width="395" border="0" /></a>  </p>
<p>Click the Add... button to add a new check-in policy and select Code Analysis from the menu.</p>
<p><a href="http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZOvSsQaI/AAAAAAAAAmY/ktC3xVC_o0A/image%5B11%5D.png"><img height="228" alt="image" src="{{ site.baseurl }}/assets/image_thumb%5B5%5D.png" width="334" border="0" /></a> </p>
<p>From here, you should be able set up the rules just as you would at the project level.  Any rules you specify should generate an error when violated, and therefore, the code will not compile.  As a result, the developers will not be able to check-in code that violates any of the rules that you have set for the team.</p>
<p><a href="http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZPcIQktI/AAAAAAAAAmg/jUugWSfxMIU/image%5B15%5D.png"><img height="352" alt="image" src="{{ site.baseurl }}/assets/image_thumb%5B7%5D.png" width="308" border="0" /></a> </p>
<p>So, if you have already set up rules within your projects, another nice feature in Visual Studio is the ability to synch up your settings in each project with those set at the check-in policy level.  You can do this by selecting the Replace with Check-in Policy under Analyze/Code Analysis Settings for Solution in Visual Studio.</p>
<p><a href="http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZQOpfkeI/AAAAAAAAAmo/KmCglaxjHe0/image%5B19%5D.png"><img height="167" alt="image" src="{{ site.baseurl }}/assets/image_thumb%5B9%5D.png" width="370" border="0" /></a> </p>
<p>All of the settings in your current projects will match those set at the Team Project level.  None of your previous suppressions attributes should have been removed.</p>
<p>Hope this helps!</p>
<div class="blogger-post-footer">
<div>
<br />
<span style="border-top:solid 1px #000000;"><br />
<span style="text-align:left;"><br />
Todd Meinershagen is a Principal Consultant with </span><a href="http://www.improvingenterprises.com/" style="text-align:left;">Improving Enterprises</a><span style="text-align:left;"> in Dallas, Texas.</span><br />
</span><br />

</div>
</div>
